<!DOCTYPE html>
<meta charset="utf-8">
<html lang="en">
      <script src="https://d3js.org/d3.v4.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      <script src= "d3_function.js"></script>
      <head> 
            <title> Data Visualization_CIS569_MidTerm </title> 
            <meta charset="utf-8"> 
            <link rel="stylesheet" type= "text/css" href="styles.css">
      </head> 
      <body> 
            <section style="text-align: center;">
                  <h2 class ="typing-txt">Data Visualization CIS569 _ MidTerm</h2>
                  <h3  style="text-align: right; font-size: 15px;"> Member: Yunhhyeok Lee</h3>
            </section>
            
      <h3> &emsp;&emsp; This is First Scatter Plot </h4>
      <h4> &emsp;&emsp;&emsp; X-Axis -> Cylinders and Y-Axis -> Weight </h4>
      
      <div id="scat1"></div>
      <h3> &emsp;&emsp; This is Second Scatter Plot </h3>
      <h4> &emsp;&emsp;&emsp; X-Axis -> Cylinders  and Y-Axis -> MPG </h4>
      <div id="scat2"></div>
      <h3> &emsp;&emsp; This is Third Scatter Plot </h3>
      <h4> &emsp;&emsp;&emsp; X-Axis -> Cylinders and Y-Axis -> Horsepower </h4>
      <div id="scat3"></div>


      </body> 
</html>

<script>
// set the dimensions and margins of the graph
var margin = {top: 10, right: 30, bottom: 30, left: 60},
    width = 460 - margin.left - margin.right,
    height = 400 - margin.top - margin.bottom;

// append the svg object to the body of the page
var svg = d3.select("#scat1")
  .append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform",
          "translate(" + margin.left + "," + margin.top + ")");
  
var color = d3.scaleOrdinal()
    .domain(["setosa", "versicolor", "virginica" ])
    .range([ "#440154ff", "#21908dff", "#555555"])

var color2 = d3.scaleOrdinal()
    .domain(["setosa", "versicolor", "virginica" ])
    .range([ "#440154ff", "#AAAAAA", "#fde725ff"])

var color3 = d3.scaleOrdinal()
    .domain(["setosa", "versicolor", "virginica" ])
    .range([ "#32CD32", "#21908dff", "#fde725ff"])


//Read the data
//d3.csv("https://raw.githubusercontent.com/holtzy/data_to_viz/master/Example_dataset/2_TwoNum.csv", function(data) {
d3.csv("cars_dataset.csv", function(data) {
  // Add X axis
  console.log(data)
  var x = d3.scaleLinear()
    .domain([0, 10]) // X Axis
    .range([ 0, width ]);
  svg.append("g")
    .attr("transform", "translate(0," + height + ")")
    .call(d3.axisBottom(x));

var div = d3.select("body").append("div")
     .attr("class", "tooltip")
     .style("opacity", 0);

  // Add Y axis
  var y = d3.scaleLinear()
    .domain([0, 6000]) // Y Axis
    .range([ height, 0]);
  svg.append("g")
    .call(d3.axisLeft(y));
  // Add dots
  var path = svg.selectAll("dot")
      .data(data)
      .enter().append("circle").attr("r", 5)
            .attr("cx", function (d) { return x(d.Cylinders); })
            .attr("cy", function (d) { 
              if (d.Weight > 2000) return y(d.Weight); })
            .attr("r", 3)
            .style("fill", function (d) { return color(d.Cylinders) } )

            .on('mouseover', function (d, i) {
            d3.select(this).transition()
            .duration('100')
            .attr("r", 7);
            div.transition()
            .duration(100)
            .style("opacity", 1);
            div.html("Cylinders:" + d.Cylinders + " Weight: " + d.Weight)
            .style("left", (d3.event.pageX + 10) + "px")
            .style("top", (d3.event.pageY - 15) + "px");
      })
            .on('mouseout', function (d, i) {
            d3.select(this).transition()
                  .duration('200')
                  .attr("r", 3);
            div.transition()
                  .duration('200')
                  .style("opacity", 0);
      });
      
});



// 두번째
// set the dimensions and margins of the graph
// set the dimensions and margins of the graph
var margin2 = {top: 10, right: 30, bottom: 30, left: 60},
    width = 460 - margin2.left - margin2.right,
    height = 400 - margin2.top - margin2.bottom;

// append the svg object to the body of the page
var svg2 = d3.select("#scat2")
  .append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform",
          "translate(" + margin.left + "," + margin.top + ")");
  

//Read the data
//d3.csv("https://raw.githubusercontent.com/holtzy/data_to_viz/master/Example_dataset/2_TwoNum.csv", function(data) {
d3.csv("cars_dataset.csv", function(data) {
  // Add X axis
  console.log(data)
  var x = d3.scaleLinear()
    .domain([0, 10]) // X Axis
    .range([ 0, width ]);
  svg2.append("g")
    .attr("transform", "translate(0," + height + ")")
    .call(d3.axisBottom(x));

var div = d3.select("body").append("div")
     .attr("class", "tooltip")
     .style("opacity", 0);

  // Add Y axis
  var y = d3.scaleLinear()
    .domain([0, 50]) // Y Axis
    .range([ height, 0]);
  svg2.append("g")
    .call(d3.axisLeft(y));
  // Add dots
  var path = svg2.selectAll("dot")
      .data(data)
      .enter().append("circle").attr("r", 5)
            .attr("cx", function (d) { 
              return x(d.Cylinders); })
            .attr("cy", function (d) {
              if (d.MPG < 60) return y(d.MPG); })
            .attr("r", 3)
            .style("fill", function (d) { return color2(d.Cylinders) } )
            .on('mouseover', function (d, i) {
            d3.select(this).transition()
            .duration('100')
            .attr("r", 7);
            div.transition()
            .duration(100)
            .style("opacity", 1);
            div.html("Cylinders:" + d.Cylinders + " MPG: " + d.MPG)
            .style("left", (d3.event.pageX + 10) + "px")
            .style("top", (d3.event.pageY - 15) + "px");
      })
            .on('mouseout', function (d, i) {
            d3.select(this).transition()
                  .duration('200')
                  .attr("r", 3);
            div.transition()
                  .duration('200')
                  .style("opacity", 0);
      });
      
});


// 세번째
var margin3 = {top: 10, right: 30, bottom: 30, left: 60},
    width = 460 - margin3.left - margin3.right,
    height = 400 - margin3.top - margin3.bottom;

// append the svg object to the body of the page
var svg3 = d3.select("#scat3")
  .append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform",
          "translate(" + margin.left + "," + margin.top + ")");
  

//Read the data
//d3.csv("https://raw.githubusercontent.com/holtzy/data_to_viz/master/Example_dataset/2_TwoNum.csv", function(data) {
d3.csv("cars_dataset.csv", function(data) {
  // Add X axis
  console.log(data)
  var x = d3.scaleLinear()
    .domain([0, 10]) // X Axis
    .range([ 0, width ]);
    svg3.append("g")
    .attr("transform", "translate(0," + height + ")")
    .call(d3.axisBottom(x));

var div = d3.select("body").append("div")
     .attr("class", "tooltip")
     .style("opacity", 0);

  // Add Y axis
  var y = d3.scaleLinear()
    .domain([0, 260]) // Y Axis
    .range([ height, 0]);
    svg3.append("g")
    .call(d3.axisLeft(y));
  // Add dots
  var path = svg3.selectAll("dot")
      .data(data)
      .enter().append("circle").attr("r", 5)
            .attr("cx", function (d) { return x(d.Cylinders); })
            .attr("cy", function (d) {  
              if(d.Horsepower < 220) return (d.Horsepower); })
            .attr("r", 3)
            .style("fill", function (d) { return color3(d.Cylinders) } )
            .on('mouseover', function (d, i) {
            d3.select(this).transition()
            .duration('100')
            .attr("r", 7);
            div.transition()
            .duration(100)
            .style("opacity", 1);
            div.html("Cylinders:" + d.Cylinders + " Horsepower: " + d.Horsepower)
            .style("left", (d3.event.pageX + 10) + "px")
            .style("top", (d3.event.pageY - 15) + "px");
      })
            .on('mouseout', function (d, i) {
            d3.select(this).transition()
                  .duration('200')
                  .attr("r", 3);
            div.transition()
                  .duration('200')
                  .style("opacity", 0);
      });
      
});

</script>